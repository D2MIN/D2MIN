<style type="text/css" scoped="scoped">.slgh,.slgh code,.slgh ul, .slgh ol{margin:0;padding:0;border:0;outline:0;background:none;text-align:left;float:none;vertical-align:baseline;position:static;left:auto;top:auto;right:auto;bottom:auto;height:auto;width:auto;line-height:1.1em;font-family:'Courier New', Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;min-height:inherit;min-height:auto;}.slgh{background:#fff;width:99%;margin:1em 0;padding:1px;position:relative;overflow:auto;overflow-y:hidden;}.slgh ul{list-style:none;margin-left:.5em}.slgh ol{margin-left:3.5em}.slgh .bold {font-weight:bold;}.slgh .italic {font-style:italic;}.slgh .no-wrap li{white-space:pre;}.slgh li{padding-left:.5em;}.slgh li{border-left:3px solid #ccc;color:#666;}.slgh li.alt1{background:#fff;padding-left: 1em;}.slgh li.alt2{background:#F8F8F8;padding-left: 1em;}.slgh .plain, .slgh .plain a{color:#000;}.slgh .comments, .slgh .comments a{color:#008200;}.slgh .string, .slgh .string a{color:blue;}.slgh .keyword{color:#069;font-weight:bold;}.slgh .preprocessor {color:gray;}.slgh .variable{color:#a70;}.slgh .value{color:#090;}.slgh .functions{color:#ff1493;}.slgh .constants{color:#0066CC;}.slgh .script{background:yellow;}.slgh .color1,.slgh .color1 a{color:#808080;}.slgh .color2,.slgh .color2 a{color:#ff1493;}.slgh .color3,.slgh .color3 a{color:red;}.slghcr{margin:-.5em 1.2em}.slghcr a{color:#aaa;background:#fff;text-decoration:none;border-bottom:1px dotted #aaa;font-size:.6em;font-family:arial}</style><div id="hler_224148" class="slgh"><ol class="lines no-wrap"><li class="alt1"><code class="preprocessor">#include &lt;iostream&gt;</code></li><li class="alt2"><code class="preprocessor">#include &lt;utility&gt;</code></li><li class="alt1"><code class="preprocessor">#include &lt;fstream&gt;</code></li><li class="alt2"><code class="preprocessor">#include &lt;string&gt;</code></li><li class="alt1"><code class="preprocessor">#include &lt;vector&gt;</code></li><li class="alt2"><code class="keyword">using</code> <code class="keyword">namespace</code> <code class="plain">std;</code></li><li class="alt1">&nbsp;</li><li class="alt2"><code class="comments">//Функция возвращает длину линии по формуле нахождения длины линии sqrt( (a1-a2)^2 + (b1-b2)^2 )</code></li><li class="alt1"><code class="keyword">double</code> <code class="plain">length(pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code><code class="plain">&gt; cord_one, pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code><code class="plain">&gt; cord_two) {</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">return</code> <code class="plain">sqrt(pow(abs(cord_one.first - cord_two.first), 2) + pow(abs(cord_one.second - cord_two.second), 2));</code></li><li class="alt1"><code class="plain">}</code></li><li class="alt2">&nbsp;</li><li class="alt1"><code class="comments">//Функция считающая длины сторон треугольника образованого прямой и точкой</code></li><li class="alt2"><code class="keyword">double</code> <code class="plain">min_lenght_triangle(pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code> <code class="plain">&gt;&amp; point, pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code><code class="plain">&gt; cord_line_one, pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code> <code class="plain">&gt; cord_line_two) {</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">double</code> <code class="plain">line_1, line_2, line_3;</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">line_1 = length(point, cord_line_one); </code><code class="comments">// 1 сторона</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">line_2 = length(point, cord_line_two); </code><code class="comments">// 2 сторона</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">line_3 = length(cord_line_one, cord_line_two); </code><code class="comments">// основание треугольника</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">double</code> <code class="plain">s_pr = (line_1 + line_2 + line_3) / 2; </code><code class="comments">// Полупериметр треугольника</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">double</code> <code class="plain">s = sqrt(s_pr * (s_pr - line_1) * (s_pr - line_2) * (s_pr - line_3)); </code><code class="comments">// Площадь треугольника</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">double</code> <code class="plain">h = (2 * s) / line_3; </code><code class="comments">// Высота треугольника</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">return</code> <code class="plain">h;</code></li><li class="alt1"><code class="plain">}</code></li><li class="alt2">&nbsp;</li><li class="alt1"><code class="comments">//Функция считающая длину от точки до прямой если они на одной оси x</code></li><li class="alt2"><code class="keyword">double</code> <code class="plain">min_lenght_x(pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code> <code class="plain">&gt;&amp; point, pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code><code class="plain">&gt; cord_line_one, pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code> <code class="plain">&gt; cord_line_two) {</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="plain">(point.first &gt; cord_line_one.first &amp;&amp; point.first &gt; cord_line_two.first) </code><code class="comments">//Проверяю ниже точка или выше прямой</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">return</code> <code class="plain">abs(max(cord_line_one.first, cord_line_two.first) - point.first);</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">else</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">return</code> <code class="plain">abs(min(cord_line_one.first, cord_line_two.first) - point.first);</code></li><li class="alt1"><code class="plain">}</code></li><li class="alt2">&nbsp;</li><li class="alt1"><code class="comments">//Функция считающая длину от точки до прямой если они на одной оси y</code></li><li class="alt2"><code class="keyword">double</code> <code class="plain">min_lenght_y(pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code> <code class="plain">&gt;&amp; point, pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code><code class="plain">&gt; cord_line_one, pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code> <code class="plain">&gt; cord_line_two) {</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="plain">(point.second &gt; cord_line_one.second &amp;&amp; point.second &gt; cord_line_two.second) </code><code class="comments">// Проверяю правее точка или левее прямой</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">return</code> <code class="plain">abs(max(cord_line_one.second, cord_line_two.second) - point.second);</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">else</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">return</code> <code class="plain">abs(min(cord_line_one.second, cord_line_two.second) - point.second);</code></li><li class="alt1"><code class="plain">}</code></li><li class="alt2">&nbsp;</li><li class="alt1"><code class="keyword">int</code> <code class="plain">main() {</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">setlocale(LC_ALL, </code><code class="string">"Russian"</code><code class="plain">);</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code> <code class="plain">&gt; point;</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code> <code class="plain">&gt; cord_line_one;</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code> <code class="plain">&gt; cord_line_two;</code></li><li class="alt2">&nbsp;</li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">cout &lt;&lt; </code><code class="string">"Введите кординаты первой точки"</code> <code class="plain">&lt;&lt; endl;</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">cout &lt;&lt; </code><code class="string">"x : "</code><code class="plain">; cin &gt;&gt; cord_line_one.first; </code><code class="comments">//Первая x кордината линии</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">cout &lt;&lt; </code><code class="string">"y : "</code><code class="plain">; cin &gt;&gt; cord_line_one.second; </code><code class="comments">//Первая y кордината линии</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">cout &lt;&lt; </code><code class="string">"Введите вторую точку"</code> <code class="plain">&lt;&lt; endl;</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">cout &lt;&lt; </code><code class="string">"x : "</code><code class="plain">;&nbsp; cin &gt;&gt; cord_line_two.first; </code><code class="comments">//Вторая x корда линии</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">cout &lt;&lt; </code><code class="string">"y : "</code><code class="plain">;&nbsp; cin &gt;&gt; cord_line_two.second; </code><code class="comments">//Вторая y корда линии</code></li><li class="alt1">&nbsp;</li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">ifstream file(</code><code class="string">"points.txt"</code><code class="plain">);</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="plain">(!file.is_open()) { </code><code class="comments">// проверка, успешно ли открыт файл</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">cout &lt;&lt; </code><code class="string">"Ошибка открытия файла!"</code><code class="plain">;</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">return</code> <code class="plain">1;</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">}</code></li><li class="alt1">&nbsp;</li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">double</code> <code class="plain">min;</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">int</code> <code class="plain">flag = 0;</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">pair &lt;</code><code class="keyword">double</code><code class="plain">, </code><code class="keyword">double</code><code class="plain">&gt; min_point;</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">//Считываем с файла</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">while</code> <code class="plain">(!file.eof() &amp;&amp; file &gt;&gt; point.first, file &gt;&gt; point.second) {</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">//Если они на оси x</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="plain">(point.first == cord_line_one.first &amp;&amp; point.first == cord_line_two.first) {</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="plain">(flag == 1 &amp;&amp; min &gt; min_lenght_y(point, cord_line_one, cord_line_two)) {</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">min = min_lenght_y(point, cord_line_one, cord_line_two); </code><code class="comments">//Переприсваеваем минимальную длину</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">min_point = point; </code><code class="comments">// Переприсваеваем точку</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">}</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="plain">(flag == 0) {</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">min = min_lenght_y(point, cord_line_one, cord_line_two);</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">min_point = point;</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">flag = 1;</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">}</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">}</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">//Если они на оси y</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="plain">(point.second == cord_line_one.second &amp;&amp; point.second == cord_line_two.second) {</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="plain">(flag == 1 &amp;&amp; min &gt; min_lenght_x(point, cord_line_one, cord_line_two)) {</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">min = min_lenght_x(point, cord_line_one, cord_line_two);</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">min_point = point;</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">}</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="plain">(flag == 0) {</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">min = min_lenght_x(point, cord_line_one, cord_line_two);</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">min_point = point;</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">flag = 1;</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">}</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">}</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// Иначе</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="plain">(point.first != cord_line_one.first &amp;&amp; point.first != cord_line_two.first &amp;&amp; point.second != cord_line_one.second &amp;&amp; point.second != cord_line_two.second) {</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="plain">(flag == 1 &amp;&amp; min &gt; min_lenght_triangle(point, cord_line_one, cord_line_two)) {</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">min = min_lenght_triangle(point, cord_line_one, cord_line_two);</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">min_point = point;</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">}</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="plain">(flag == 0) {</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">min = min_lenght_triangle(point, cord_line_one, cord_line_two);</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">min_point = point;</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">flag = 1;</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">}</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">}</code></li><li class="alt1">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">}</code></li><li class="alt2">&nbsp;&nbsp;&nbsp;&nbsp;<code class="plain">cout &lt;&lt; </code><code class="string">"Ближайшая точка к прямой на кординатах ("</code> <code class="plain">&lt;&lt; min_point.first &lt;&lt; </code><code class="string">","</code> <code class="plain">&lt;&lt; min_point.second &lt;&lt; </code><code class="string">")"</code><code class="plain">;</code></li><li class="alt1"><code class="plain">}</code></li></ol></div><div class="slghcr"></div>